<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥é»é¤çµ±è¨ˆ</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 500px; margin: auto; padding: 20px; }
        input, select, button { margin: 5px 0; padding: 8px; width: 100%; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f4f4f4; }
    </style>
</head>
<body>

    <h2>æ¯æ—¥é»é¤çµ±è¨ˆ</h2>
    <label>å§“åï¼š</label>
    <input type="text" id="nameInput" placeholder="è¼¸å…¥ä½ çš„åå­—">
    
    <label>ä»Šæ—¥é¤é»ï¼š</label>
    <select id="foodSelect">
        <option value="">è«‹é¸æ“‡é¤é»</option>
    </select>

    <button onclick="addOrder()">æäº¤è¨‚å–®</button>
    <button onclick="clearOrders()" style="background-color: red; color: white;">æ¸…ç©ºè¨‚å–®</button>

    <h3>è¨‚å–®åˆ—è¡¨</h3>
    <table>
        <thead>
            <tr>
                <th>å§“å</th>
                <th>é¤é»</th>
            </tr>
        </thead>
        <tbody id="orderList"></tbody>
    </table>

    <h3>é¤é»çµ±è¨ˆ</h3>
    <table>
        <thead>
            <tr>
                <th>é¤é»</th>
                <th>æ•¸é‡</th>
            </tr>
        </thead>
        <tbody id="foodSummary"></tbody>
    </table>

    <script>
        let orders = JSON.parse(localStorage.getItem('orders')) || [];

        // **ğŸ“Œ èœå–®è¨­å®š**
        const menu = {
            "2025-03-24": ["é’é†¬æ™‚è”¬ç‚’é­šç‰‡", "è±†é†¬æ™‚è”¬ç‡´ç‚’é›ä¸", "æ—¥åšå°èœ", "å­£ç¯€æ™‚è”¬"],
            "2025-03-25": ["ç•ªèŒ„å’–å“©é›è…¿", "å®¢å®¶å°ç‚’", "æ—¥åšå°èœ", "å­£ç¯€æ™‚è”¬"],
            "2025-03-26": ["é®®è¦ç²‰çµ²è±†è…ç…²", "æ¡‚ç«¹ç­ç‚’è‚‰çµ²", "æ—¥åšå°èœ", "å­£ç¯€æ™‚è”¬"],
            "2025-03-27": ["æ±å¡è‚‰", "é’èŠ±èœè‡è‡ç‚’é›æŸ³", "æ—¥åšå°èœ", "å­£ç¯€æ™‚è”¬"],
            "2025-03-28": ["è±†é¼“èœæ’éª¨", "å‰çš®è¾£æ¤’è±†å¹²ç‚’è‚‰æœ«", "æ—¥åšå°èœ", "å­£ç¯€æ™‚è”¬"]
        };

        // **ğŸ“Œ è‡ªå‹•è¨­å®šä»Šå¤©çš„èœå–®**
        function setTodayMenu() {
            let today = new Date().toISOString().split('T')[0]; // å–å¾— YYYY-MM-DD æ ¼å¼
            let foodSelect = document.getElementById("foodSelect");
            foodSelect.innerHTML = `<option value="">è«‹é¸æ“‡é¤é»</option>`; // æ¸…ç©ºé¸å–®

            if (menu[today]) {
                menu[today].forEach(food => {
                    let option = document.createElement("option");
                    option.value = food;
                    option.textContent = food;
                    foodSelect.appendChild(option);
                });
            } else {
                let option = document.createElement("option");
                option.value = "ä»Šæ—¥ç„¡èœå–®";
                option.textContent = "ä»Šæ—¥ç„¡èœå–®";
                foodSelect.appendChild(option);
            }
        }

        function addOrder() {
            let name = document.getElementById('nameInput').value.trim();
            let food = document.getElementById('foodSelect').value;
            if (!name || !food) {
                alert("è«‹è¼¸å…¥å§“åä¸¦é¸æ“‡é¤é»ï¼");
                return;
            }

            orders.push({ name, food });
            localStorage.setItem('orders', JSON.stringify(orders));

            document.getElementById('nameInput').value = "";
            document.getElementById('foodSelect').value = "";

            updateDisplay();
        }

        function updateDisplay() {
            let orderList = document.getElementById('orderList');
            let foodSummary = document.getElementById('foodSummary');
            orderList.innerHTML = "";
            foodSummary.innerHTML = "";

            let foodCount = {};
            orders.forEach(order => {
                orderList.innerHTML += `<tr><td>${order.name}</td><td>${order.food}</td></tr>`;
                foodCount[order.food] = (foodCount[order.food] || 0) + 1;
            });

            for (let food in foodCount) {
                foodSummary.innerHTML += `<tr><td>${food}</td><td>${foodCount[food]}</td></tr>`;
            }
        }

        function clearOrders() {
            if (confirm("ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰è¨‚å–®å—ï¼Ÿ")) {
                orders = [];
                localStorage.removeItem('orders');
                updateDisplay();
            }
        }

        // åˆå§‹åŒ–
        setTodayMenu();
        updateDisplay();
    </script>

</body>
</html>